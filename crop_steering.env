# ================================================================
# CROP STEERING SYSTEM CONFIGURATION
# ================================================================
# 📝 SETUP INSTRUCTIONS:
# 1. Copy this file: cp crop_steering.env my_crop_steering.env
# 2. Edit YOUR file with your Home Assistant entity IDs
# 3. Run setup script: python configure_crop_steering.py my_crop_steering.env
# 4. Restart Home Assistant
# ================================================================
#
# 🔍 HOW TO FIND ENTITY IDs:
# - Go to Developer Tools > States in Home Assistant
# - Search for your device names (pump, valve, sensor)
# - Copy the full entity ID (e.g. switch.irrigation_pump)
# - Paste below, replacing the example values
#
# 💡 WHAT GETS CONFIGURED:
# This script will automatically set up 50+ Home Assistant entities
# based on your hardware configuration below. No manual YAML editing!
# ================================================================

# ================================================================
# 🚰 IRRIGATION HARDWARE CONTROL (REQUIRED)
# ================================================================
# These control your physical irrigation system. The startup sequence is:
# 1. PUMP_SWITCH turns on (provides water pressure)
# 2. MAIN_LINE_SWITCH opens (allows water to grow area) 
# 3. ZONE_X_SWITCH opens (waters specific zone)
# Shutdown is reverse order with delays for pressure relief.

# 🔧 PUMP_SWITCH - Main irrigation pump power
# ┗━ Controls: Primary water pump or master irrigation switch
# ┗━ Impact: Must be ON for any irrigation to work
# ┗━ Safety: System checks this is OFF before starting new cycle
# ┗━ Example: switch.irrigation_pump_main
PUMP_SWITCH=switch.f1_irrigation_pump_master_switch

# 🔧 MAIN_LINE_SWITCH - Main water line valve to grow area
# ┗━ Controls: Master valve that opens water flow to entire grow area
# ┗━ Impact: Must be ON for water to reach any zones
# ┗━ Timing: Opens 1 second after pump starts
# ┗━ Example: switch.main_line_valve
MAIN_LINE_SWITCH=switch.espoe_irrigation_relay_1_2

# 🔧 ZONE_1_SWITCH - Zone 1 irrigation valve (REQUIRED for Zone 1)
# ┗━ Controls: Specific valve for irrigation zone/table 1
# ┗━ Impact: Must be configured if you want to irrigate Zone 1
# ┗━ Timing: Opens 2 seconds after main line valve
# ┗━ Example: switch.zone_1_valve
ZONE_1_SWITCH=switch.f1_irrigation_relays_relay_1

# 🔧 ZONE_2_SWITCH - Zone 2 irrigation valve (Optional)
# ┗━ Controls: Specific valve for irrigation zone/table 2
# ┗━ Impact: Leave empty if you don't have Zone 2
# ┗━ Note: You can enable/disable zones in the dashboard later
# ┗━ NOTE: Zone 2 uses relay_3 per your hardware setup
ZONE_2_SWITCH=switch.f1_irrigation_relays_relay_3

# 🔧 ZONE_3_SWITCH - Zone 3 irrigation valve (Optional)
# ┗━ Controls: Specific valve for irrigation zone/table 3
# ┗━ Impact: Leave empty if you don't have Zone 3
# ┗━ Note: System supports up to 3 zones maximum
# ┗━ NOTE: Zone 3 uses relay_2 per your hardware setup
ZONE_3_SWITCH=switch.f1_irrigation_relays_relay_2

# 🔧 WASTE_SWITCH - Waste/drain valve (Optional)
# ┗━ Controls: Valve for flushing system or draining to waste
# ┗━ Impact: System will turn this OFF before irrigation starts
# ┗━ Usage: Useful for system maintenance and flushing
# ┗━ Example: switch.waste_drain_valve (leave empty if not used)
WASTE_SWITCH=

# ================================================================
# 📊 SENSOR CONFIGURATION (REQUIRED FOR CROP STEERING)
# ================================================================
# These sensors enable the system to make smart irrigation decisions.
# The system combines front/back sensors per zone for more accurate readings.
# Minimum: Need at least 1 VWC and 1 EC sensor per active zone.

# 🌡️ ZONE 1 SENSORS (Required if using Zone 1)
# The system will average front/back sensors for better accuracy.
# If you only have one sensor per type, put it in FRONT and leave BACK empty.

# 📊 ZONE_1_VWC_FRONT - Zone 1 moisture sensor (front location)
# ┗━ Measures: Volumetric Water Content (0-100% moisture)
# ┗━ Impact: Primary input for irrigation timing decisions
# ┗━ Location: Front of growing container/table in Zone 1
# ┗━ Example: sensor.zone1_moisture_front
ZONE_1_VWC_FRONT=sensor.z1_vwc_front

# 📊 ZONE_1_VWC_BACK - Zone 1 moisture sensor (back location)
# ┗━ Measures: Volumetric Water Content (0-100% moisture)  
# ┗━ Impact: Averaged with FRONT sensor for better accuracy
# ┗━ Location: Back of growing container/table in Zone 1
# ┗━ Note: Leave empty if you only have one VWC sensor in Zone 1
ZONE_1_VWC_BACK=sensor.z1_vwc_back

# ⚡ ZONE_1_EC_FRONT - Zone 1 nutrient sensor (front location)
# ┗━ Measures: Electrical Conductivity (0-10+ mS/cm nutrient strength)
# ┗━ Impact: Controls nutrient management and EC stacking features
# ┗━ Location: Front of growing container/table in Zone 1
# ┗━ Example: sensor.zone1_ec_front
ZONE_1_EC_FRONT=sensor.z1_ec_front

# ⚡ ZONE_1_EC_BACK - Zone 1 nutrient sensor (back location)
# ┗━ Measures: Electrical Conductivity (0-10+ mS/cm nutrient strength)
# ┗━ Impact: Averaged with FRONT sensor for nutrient decisions
# ┗━ Location: Back of growing container/table in Zone 1
# ┗━ Note: Leave empty if you only have one EC sensor in Zone 1
ZONE_1_EC_BACK=sensor.z1_ec_back

# 🌡️ ZONE 2 SENSORS (Optional - only if you have Zone 2)
# Configure these only if you have a second irrigation zone/table.

# 📊 ZONE_2_VWC_FRONT - Zone 2 moisture sensor (front location)
# ┗━ Measures: Volumetric Water Content for Zone 2
# ┗━ Impact: Independent irrigation control for Zone 2
# ┗━ Note: Leave empty if you don't have Zone 2
# ┗━ Example: sensor.zone2_moisture_front
ZONE_2_VWC_FRONT=sensor.z2_vwc_front

# 📊 ZONE_2_VWC_BACK - Zone 2 moisture sensor (back location)
# ┗━ Measures: Volumetric Water Content for Zone 2 (back)
# ┗━ Impact: Averaged with FRONT for Zone 2 decisions
# ┗━ Note: Leave empty if no back sensor in Zone 2
ZONE_2_VWC_BACK=sensor.z2_vwc_back

# ⚡ ZONE_2_EC_FRONT - Zone 2 nutrient sensor (front location)
# ┗━ Measures: Electrical Conductivity for Zone 2
# ┗━ Impact: Independent nutrient management for Zone 2
# ┗━ Note: Leave empty if you don't have Zone 2
# ┗━ Example: sensor.zone2_ec_front
ZONE_2_EC_FRONT=sensor.z2_ec_front

# ⚡ ZONE_2_EC_BACK - Zone 2 nutrient sensor (back location)
# ┗━ Measures: Electrical Conductivity for Zone 2 (back)
# ┗━ Impact: Averaged with FRONT for Zone 2 nutrient decisions
# ┗━ Note: Leave empty if no back sensor in Zone 2
ZONE_2_EC_BACK=sensor.z2_ec_back

# 🌡️ ZONE 3 SENSORS (Optional - only if you have Zone 3)
# Configure these only if you have a third irrigation zone/table.

# 📊 ZONE_3_VWC_FRONT - Zone 3 moisture sensor (front location)
# ┗━ Measures: Volumetric Water Content for Zone 3
# ┗━ Impact: Independent irrigation control for Zone 3
# ┗━ Note: Leave empty if you don't have Zone 3
# ┗━ Example: sensor.zone3_moisture_front
ZONE_3_VWC_FRONT=sensor.z3_vwc_front

# 📊 ZONE_3_VWC_BACK - Zone 3 moisture sensor (back location)
# ┗━ Measures: Volumetric Water Content for Zone 3 (back)
# ┗━ Impact: Averaged with FRONT for Zone 3 decisions
# ┗━ Note: Leave empty if no back sensor in Zone 3
ZONE_3_VWC_BACK=sensor.z3_vwc_back

# ⚡ ZONE_3_EC_FRONT - Zone 3 nutrient sensor (front location)
# ┗━ Measures: Electrical Conductivity for Zone 3
# ┗━ Impact: Independent nutrient management for Zone 3
# ┗━ Note: Leave empty if you don't have Zone 3
# ┗━ Example: sensor.zone3_ec_front
ZONE_3_EC_FRONT=sensor.z3_ec_front

# ⚡ ZONE_3_EC_BACK - Zone 3 nutrient sensor (back location)
# ┗━ Measures: Electrical Conductivity for Zone 3 (back)
# ┗━ Impact: Averaged with FRONT for Zone 3 nutrient decisions
# ┗━ Note: Leave empty if no back sensor in Zone 3
ZONE_3_EC_BACK=sensor.z3_ec_back

# ================================================================
# 💡 LIGHTING SYSTEM (Optional but Recommended)
# ================================================================
# The crop steering system uses light timing to determine irrigation phases:
# - P0 starts when lights turn on (morning dryback)
# - P3 ends before lights turn off (evening preparation)

# 💡 LIGHT_ENTITY - Main grow light control entity
# ┗━ Purpose: System uses this to detect day/night cycles
# ┗━ Impact: Critical for automatic phase transitions (P0→P1→P2→P3)
# ┗━ Usage: Must be ON during growing day, OFF during night
# ┗━ Example: light.grow_room_lights
# ┗━ Note: Leave empty to use manual phase control only
LIGHT_ENTITY=light.grow_lights

# 🕐 LIGHTS_ON_TIME - Scheduled lights-on time (Optional)
# ┗━ Purpose: Alternative to light entity for phase timing
# ┗━ Impact: System starts P0 phase at this time daily
# ┗━ Usage: Use if you have scheduled light timing in HA
# ┗━ Example: input_datetime.lights_on_schedule
# ┗━ Note: Leave empty if using LIGHT_ENTITY above
LIGHTS_ON_TIME=input_datetime.lights_on

# 🕐 LIGHTS_OFF_TIME - Scheduled lights-off time (Optional)
# ┗━ Purpose: Alternative to light entity for phase timing
# ┗━ Impact: System enters P3 phase before this time
# ┗━ Usage: Use if you have scheduled light timing in HA
# ┗━ Example: input_datetime.lights_off_schedule
# ┗━ Note: Leave empty if using LIGHT_ENTITY above
LIGHTS_OFF_TIME=input_datetime.lights_off

# ================================================================
# 🌡️ ENVIRONMENTAL SENSORS (Optional for Analytics)
# ================================================================
# These sensors enhance the system with environmental monitoring.
# They don't control irrigation but provide valuable data and analytics.

# 🌡️ TEMPERATURE_SENSOR - Grow room temperature
# ┗━ Purpose: Environmental monitoring and VPD calculations
# ┗━ Impact: Displayed in dashboard, used for analytics
# ┗━ Range: Typically 18-30°C (65-85°F) for optimal growing
# ┗━ Example: sensor.grow_room_temperature
# ┗━ Note: Leave empty if you don't have temperature monitoring
TEMPERATURE_SENSOR=sensor.grow_room_temperature

# 💧 HUMIDITY_SENSOR - Grow room relative humidity
# ┗━ Purpose: Environmental monitoring and VPD calculations
# ┗━ Impact: Displayed in dashboard, used for analytics
# ┗━ Range: Typically 40-70% RH depending on growth stage
# ┗━ Example: sensor.grow_room_humidity
# ┗━ Note: Leave empty if you don't have humidity monitoring
HUMIDITY_SENSOR=sensor.grow_room_humidity

# 🌪️ VPD_SENSOR - Vapor Pressure Deficit (Advanced)
# ┗━ Purpose: Advanced environmental metric for transpiration
# ┗━ Impact: Displayed in dashboard for advanced users
# ┗━ Range: Typically 0.8-1.2 kPa for optimal plant transpiration
# ┗━ Example: sensor.grow_room_vpd
# ┗━ Note: Leave empty if you don't calculate VPD
VPD_SENSOR=sensor.grow_room_vpd

# 🚰 WATER_LEVEL_SENSOR - Water reservoir level (Optional)
# ┗━ Purpose: Monitor water tank level for refill alerts
# ┗━ Impact: Displayed in dashboard, can trigger low water alerts
# ┗━ Range: 0-100% or actual volume depending on sensor
# ┗━ Example: sensor.water_tank_level
# ┗━ Note: Leave empty if you don't monitor water levels
WATER_LEVEL_SENSOR=sensor.water_tank_level

# ================================================================
# 🎛️ SYSTEM PREFERENCES (Defaults - can change in dashboard later)
# ================================================================
# These set the initial system configuration. You can modify these
# settings later through the Home Assistant dashboard interface.

# 🌱 DEFAULT_CROP_TYPE - Initial crop profile selection
# ┗━ Purpose: Sets default irrigation parameters for your crop type
# ┗━ Impact: Determines initial VWC/EC targets and timing parameters
# ┗━ Options: Cannabis_Athena, Cannabis_Hybrid, Cannabis_Indica, Cannabis_Sativa, Tomato, Lettuce, Basil, Custom
# ┗━ Cannabis_Athena: Athena Nutrients methodology (3.0 EC baseline, high VWC)
# ┗━ Cannabis_Hybrid: Balanced parameters suitable for most cannabis strains
# ┗━ Cannabis_Indica: Slightly higher moisture, shorter drybacks
# ┗━ Cannabis_Sativa: Lower moisture, longer drybacks for structure
# ┗━ Tomato: High frequency, moderate EC for fruit production
# ┗━ Lettuce: High moisture, low EC for leafy growth
# ┗━ Custom: Use your own manually configured parameters
DEFAULT_CROP_TYPE=Cannabis_Athena

# 🌿 DEFAULT_STEERING_MODE - Initial growth steering mode
# ┗━ Purpose: Sets whether to focus on vegetative or generative growth
# ┗━ Impact: Determines dryback targets and EC levels
# ┗━ Options: Vegetative, Generative
# ┗━ Vegetative: Higher moisture, lower EC - builds plant structure
# ┗━ Generative: Lower moisture, higher EC - promotes flowering/fruiting
# ┗━ Note: You can switch this daily based on growth stage
DEFAULT_STEERING_MODE=Vegetative

# 🔬 ENABLE_EC_STACKING - Advanced nutrient management feature
# ┗━ Purpose: Allows strategic EC buildup for generative steering
# ┗━ Impact: Modifies irrigation thresholds to build substrate EC
# ┗━ Options: true, false
# ┗━ Requires: AppDaemon app for advanced logic
# ┗━ Use case: Advanced users wanting precise nutrient control
ENABLE_EC_STACKING=false

# 📊 ENABLE_ANALYTICS - Performance tracking and analytics
# ┗━ Purpose: Tracks irrigation efficiency, water usage, trends
# ┗━ Impact: Creates additional sensors for performance monitoring
# ┗━ Options: true, false
# ┗━ Benefits: Historical data, efficiency metrics, troubleshooting
# ┗━ Recommended: true (minimal performance impact)
ENABLE_ANALYTICS=true

# 🤖 ENABLE_ML_FEATURES - Machine learning analytics (Experimental)
# ┗━ Purpose: Predictive analytics and pattern recognition
# ┗━ Impact: Creates ML-based prediction sensors (experimental)
# ┗━ Options: true, false
# ┗━ Status: Beta feature, may have performance impact
# ┗━ Recommended: false unless you want to test experimental features
ENABLE_ML_FEATURES=false

# 📡 ENABLE_MQTT_MONITORING - Remote monitoring via MQTT
# ┗━ Purpose: Publish system data to MQTT for external monitoring
# ┗━ Impact: Sends data to MQTT broker for remote access/logging
# ┗━ Options: true, false
# ┗━ Use case: Remote monitoring, data logging, integration with other systems
# ┗━ Requires: MQTT broker configuration in Home Assistant
ENABLE_MQTT_MONITORING=false

# ================================================================
# ⚙️ IRRIGATION PARAMETERS (Initial values - fine-tune via dashboard)
# ================================================================
# These parameters control the irrigation behavior. Set reasonable starting
# values here, then fine-tune through the Home Assistant dashboard.

# 🪴 SUBSTRATE PROPERTIES (Critical - measure your setup accurately)

# 🪴 SUBSTRATE_VOLUME_LITERS - Container volume in liters
# ┗━ Purpose: Calculates shot sizes as percentage of container volume
# ┗━ Impact: Directly affects irrigation volume calculations
# ┗━ How to measure: Length × Width × Height of growing container
# ┗━ Example: 3.8L (1-gallon pot), 10L (2.5-gallon), 15L (4-gallon)
# ┗━ Critical: Must be accurate for proper irrigation amounts
SUBSTRATE_VOLUME_LITERS=10.0

# 💧 DRIPPER_FLOW_RATE_LPH - Dripper flow rate in liters per hour
# ┗━ Purpose: Converts shot percentages to irrigation duration (time)
# ┗━ Impact: Determines how long irrigation runs for each shot
# ┗━ How to measure: Time how long to fill 1L container, calculate L/hr
# ┗━ Example: 2.0 L/hr (common), 4.0 L/hr (faster), 1.0 L/hr (slower)
# ┗━ Critical: Inaccurate values cause wrong irrigation amounts
DRIPPER_FLOW_RATE_LPH=2.0

# 💧 SUBSTRATE_FIELD_CAPACITY - Maximum water holding capacity (%)
# ┗━ Purpose: Prevents over-watering by setting maximum VWC target  
# ┗━ Impact: System won't irrigate if VWC exceeds this value
# ┗━ Athena Method: 70% maximum for high-frequency irrigation
# ┗━ Typical values: Coco coir: 65-70%, Rockwool: 80-85%, Perlite mix: 60-65%
# ┗━ How to set: Saturate substrate, let drain 30 min, measure VWC
SUBSTRATE_FIELD_CAPACITY=70

# ⚡ SUBSTRATE_MAX_EC - Maximum safe EC level (mS/cm)
# ┗━ Purpose: Safety limit to prevent nutrient burn
# ┗━ Impact: System won't irrigate if substrate EC exceeds this
# ┗━ Athena Method: 8-9 mS/cm for advanced generative steering
# ┗━ Typical values: Cannabis: 8-9, Tomato: 3-5, Lettuce: 2-3
# ┗━ Note: Athena's high-EC methodology requires salt-tolerant genetics
SUBSTRATE_MAX_EC=9.0

# 📅 P0 PHASE - Morning Dryback (Fine-tune based on plant response)

# 🌅 P0_VEG_DRYBACK_TARGET - Vegetative mode dryback target (% VWC)
# ┗━ Purpose: How much moisture to remove during morning dryback
# ┗━ Impact: Lower = more dryback stress, higher = less stress
# ┗━ Athena Method: 50% minimum VWC (10-15% dryback from 60-65%)
# ┗━ Vegetative range: 45-50% VWC minimum (promotes leaf/stem growth)
# ┗━ Start conservative (higher) and adjust based on plant response
P0_VEG_DRYBACK_TARGET=50

# 🌸 P0_GEN_DRYBACK_TARGET - Generative mode dryback target (% VWC)
# ┗━ Purpose: How much moisture to remove for flowering/fruiting
# ┗━ Impact: Lower = more generative stress (more flowers/fruit)
# ┗━ Athena Method: 40% minimum VWC (15-20% dryback from 55-60%)
# ┗━ Generative range: 40-45% VWC minimum (promotes reproductive growth)
# ┗━ Use when you want more flowers/fruit production
P0_GEN_DRYBACK_TARGET=40

# ⏰ P0_MIN_WAIT_TIME - Minimum time in P0 phase (minutes)
# ┗━ Purpose: Ensures minimum dryback duration regardless of VWC
# ┗━ Impact: Prevents rushed transitions to P1
# ┗━ Typical range: 30-60 minutes
# ┗━ Longer = more predictable timing, shorter = more responsive
P0_MIN_WAIT_TIME=30

# ⏰ P0_MAX_WAIT_TIME - Maximum time in P0 phase (minutes)
# ┗━ Purpose: Safety timeout to prevent excessive dryback
# ┗━ Impact: Forces transition to P1 even if target not reached
# ┗━ Typical range: 90-180 minutes
# ┗━ Critical: Prevents plant stress from over-drying
P0_MAX_WAIT_TIME=120

# 📈 P1 PHASE - Ramp-Up (Gradual rehydration parameters)

# 💧 P1_INITIAL_SHOT_SIZE_PERCENT - First shot size (% of container volume)
# ┗━ Purpose: Size of first irrigation shot in P1
# ┗━ Impact: Start rehydration gently to avoid shocking roots
# ┗━ Typical range: 1-3% (small start, builds up gradually)
P1_INITIAL_SHOT_SIZE_PERCENT=2.0

# 📊 P1_SHOT_SIZE_INCREMENT - Shot size increase per shot (%)
# ┗━ Purpose: How much bigger each subsequent shot gets
# ┗━ Impact: Controls ramp-up speed (fast vs slow rehydration)
# ┗━ Typical range: 0.5-1.5% (gradual increase)
P1_SHOT_SIZE_INCREMENT=0.5

# 🔝 P1_MAX_SHOT_SIZE_PERCENT - Maximum shot size in P1 (%)
# ┗━ Purpose: Limits shot size during ramp-up phase
# ┗━ Impact: Prevents over-watering during rehydration
# ┗━ Typical range: 8-15% (reasonable upper limit)
P1_MAX_SHOT_SIZE_PERCENT=10.0

# ⏱️ P1_TIME_BETWEEN_SHOTS - Minutes between P1 shots
# ┗━ Purpose: Pacing of rehydration shots
# ┗━ Impact: Faster = quicker rehydration, slower = more gradual
# ┗━ Typical range: 10-20 minutes (allows substrate equilibration)
P1_TIME_BETWEEN_SHOTS=15

# 🎯 P1_TARGET_VWC - Target VWC to transition to P2 (%)
# ┗━ Purpose: VWC level that triggers P1→P2 transition
# ┗━ Impact: Controls when maintenance phase begins
# ┗━ Athena Method: 65-70% VWC for optimal nutrient uptake
# ┗━ Typical range: 60-70% (healthy hydrated level for high-EC feeding)
P1_TARGET_VWC=65

# 🔢 P1_MAX_SHOTS - Maximum shots before forcing P2 transition
# ┗━ Purpose: Safety limit to prevent endless P1 cycling
# ┗━ Impact: Forces P2 even if VWC target not reached
# ┗━ Typical range: 4-8 shots (reasonable rehydration period)
P1_MAX_SHOTS=6

# 🔢 P1_MIN_SHOTS - Minimum shots before allowing P2 transition
# ┗━ Purpose: Ensures adequate rehydration time
# ┗━ Impact: Prevents premature P2 transition on sensor spikes
# ┗━ Typical range: 2-4 shots (minimum rehydration effort)
P1_MIN_SHOTS=3

# 🔄 P2 PHASE - Maintenance (Steady-state irrigation parameters)

# 💧 P2_SHOT_SIZE_PERCENT - Standard shot size during maintenance (%)
# ┗━ Purpose: Regular irrigation shot size for maintaining VWC
# ┗━ Impact: Larger = fewer shots needed, smaller = more frequent
# ┗━ Typical range: 3-8% (efficient maintenance irrigation)
P2_SHOT_SIZE_PERCENT=5.0

# 📊 P2_VWC_THRESHOLD - Base VWC threshold for irrigation trigger (%)
# ┗━ Purpose: VWC level that triggers irrigation in P2
# ┗━ Impact: Lower = drier growing, higher = moister growing
# ┗━ Athena Method: 55-60% VWC minimum (adjusted by EC levels automatically)
# ┗━ Typical range: 55-65% (maintains optimal moisture for high-EC feeding)
P2_VWC_THRESHOLD=60

# ⚡ P2_EC_HIGH_THRESHOLD - EC ratio considered "high" (ratio)
# ┗━ Purpose: When substrate EC is high vs target, adjust irrigation
# ┗━ Impact: Higher EC = raise VWC threshold (less irrigation)
# ┗━ Typical range: 1.1-1.3 (10-30% above target)
P2_EC_HIGH_THRESHOLD=1.2

# ⚡ P2_EC_LOW_THRESHOLD - EC ratio considered "low" (ratio)
# ┗━ Purpose: When substrate EC is low vs target, adjust irrigation
# ┗━ Impact: Lower EC = lower VWC threshold (more irrigation)
# ┗━ Typical range: 0.7-0.9 (10-30% below target)
P2_EC_LOW_THRESHOLD=0.8

# 🌅 P3 PHASE - Pre-Lights-Off (Evening preparation parameters)

# 🌿 P3_VEG_LAST_IRRIGATION - Last irrigation before lights off - Vegetative (minutes)
# ┗━ Purpose: How long before lights-off to stop irrigating in veg mode
# ┗━ Impact: Longer = more evening dryback time
# ┗━ Vegetative: 60-120 minutes (moderate evening preparation)
P3_VEG_LAST_IRRIGATION=120

# 🌸 P3_GEN_LAST_IRRIGATION - Last irrigation before lights off - Generative (minutes)
# ┗━ Purpose: How long before lights-off to stop irrigating in gen mode
# ┗━ Impact: Longer = more generative stress overnight
# ┗━ Generative: 120-240 minutes (extended dryback for flowering)
P3_GEN_LAST_IRRIGATION=180

# 🚨 P3_EMERGENCY_VWC_THRESHOLD - Emergency irrigation trigger (% VWC)
# ┗━ Purpose: Safety threshold for emergency irrigation during P3
# ┗━ Impact: Prevents plant stress from excessive overnight drying
# ┗━ Athena Method: 40% VWC minimum to prevent root zone damage
# ┗━ Typical range: 40-45% VWC (critical drought stress prevention)
P3_EMERGENCY_VWC_THRESHOLD=40

# 🚨 P3_EMERGENCY_SHOT_SIZE_PERCENT - Emergency shot size (%)
# ┗━ Purpose: Size of emergency irrigation shots in P3
# ┗━ Impact: Just enough to prevent stress, not full rehydration
# ┗━ Typical range: 1-3% (small rescue shots)
P3_EMERGENCY_SHOT_SIZE_PERCENT=2.0

# ⚡ EC TARGETS - Nutrient concentration targets for each phase and mode

# 🌿 VEGETATIVE EC TARGETS (Athena 3.0 EC Baseline for structure building)
# Vegetative mode promotes leaf and stem growth with Athena's high-nutrition approach

# ⚡ EC_TARGET_VEG_P0 - Vegetative P0 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during vegetative morning dryback
# ┗━ Athena Method: 3.0 EC baseline maintains consistent nutrition
EC_TARGET_VEG_P0=3.0

# ⚡ EC_TARGET_VEG_P1 - Vegetative P1 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during vegetative ramp-up
# ┗━ Athena Method: 3.0-3.2 EC for optimal rehydration
EC_TARGET_VEG_P1=3.0

# ⚡ EC_TARGET_VEG_P2 - Vegetative P2 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during vegetative maintenance
# ┗━ Athena Method: 3.2 EC for consistent vegetative nutrition
EC_TARGET_VEG_P2=3.2

# ⚡ EC_TARGET_VEG_P3 - Vegetative P3 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during vegetative evening
# ┗━ Athena Method: 3.0 EC for evening stability
EC_TARGET_VEG_P3=3.0

# 🌸 GENERATIVE EC TARGETS (Athena High-EC Stacking for flowering/fruiting)
# Generative mode promotes flower and fruit production with strategic EC accumulation

# ⚡ EC_TARGET_GEN_P0 - Generative P0 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during generative morning dryback
# ┗━ Athena Method: 4.0 EC allows overnight accumulation
EC_TARGET_GEN_P0=4.0

# ⚡ EC_TARGET_GEN_P1 - Generative P1 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during generative ramp-up
# ┗━ Athena Method: 5.0 EC builds foundation for P2 stacking
EC_TARGET_GEN_P1=5.0

# ⚡ EC_TARGET_GEN_P2 - Generative P2 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during generative maintenance
# ┗━ Athena Method: 6.0 EC peak accumulation for maximum stress
EC_TARGET_GEN_P2=6.0

# ⚡ EC_TARGET_GEN_P3 - Generative P3 target EC (mS/cm)
# ┗━ Purpose: Target substrate EC during generative evening
# ┗━ Athena Method: 4.5 EC maintains stress without toxicity
EC_TARGET_GEN_P3=4.5

# ================================================================
# NOTES
# ================================================================
# 1. All sensor entities must exist in Home Assistant
# 2. Switch entities will be tested for basic on/off functionality
# 3. VWC sensors should report 0-100% moisture
# 4. EC sensors should report in mS/cm (millisiemens per centimeter)
# 5. Empty values will disable those features/zones
# 6. Run 'python configure_crop_steering.py' after editing this file