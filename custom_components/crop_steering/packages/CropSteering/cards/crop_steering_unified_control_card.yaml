# Crop Steering Unified Control Dashboard
# Complete control interface for the crop steering system
# Updated for Correct Package Entity Names

type: vertical-stack
cards:
  # System Status & Quick Controls
  - type: grid
    columns: 2
    square: false
    cards:
      - type: entities
        title: üå± System Status & Control
        show_header_toggle: false
        entities:
          - entity: input_select.cs_crop_steering_phase
            name: Current Phase
          - entity: input_select.cs_steering_mode
            name: Steering Mode
          - entity: sensor.cs_irrigation_status
            name: Irrigation Status
          - type: divider
          - entity: input_boolean.cs_zone_1_enabled
            name: Zone 1 Active
          - entity: input_boolean.cs_zone_2_enabled
            name: Zone 2 Active
          - entity: input_boolean.cs_zone_3_enabled
            name: Zone 3 Active
          - type: divider
          - entity: input_datetime.cs_lights_on_time
            name: Lights On Time
          - entity: input_datetime.cs_lights_off_time
            name: Lights Off Time

      - type: entities
        title: üìä Current Readings
        show_header_toggle: false
        entities:
          - entity: sensor.cs_configured_avg_vwc
            name: Average VWC
          - entity: sensor.cs_configured_avg_ec
            name: Average EC
          - entity: sensor.cs_ec_ratio
            name: EC Ratio
          - type: divider
          - entity: sensor.cs_irrigation_efficiency
            name: Efficiency
          - entity: sensor.cs_water_usage_daily
            name: Daily Water Usage
          - entity: sensor.cs_dryback_percentage
            name: Current Dryback

  # Zone Details
  - type: grid
    columns: 3
    square: false
    cards:
      - type: entities
        title: üè† Zone 1
        show_header_toggle: false
        entities:
          - entity: sensor.cs_zone_1_vwc
            name: VWC
          - entity: sensor.cs_zone_1_ec
            name: EC
          - entity: input_boolean.cs_zone_1_enabled
            name: Enabled
          - entity: sensor.cs_zone_1_peak_vwc
            name: Peak VWC
          - entity: sensor.cs_zone_1_valley_vwc
            name: Valley VWC

      - type: entities
        title: üè† Zone 2
        show_header_toggle: false
        entities:
          - entity: sensor.cs_zone_2_vwc
            name: VWC
          - entity: sensor.cs_zone_2_ec
            name: EC
          - entity: input_boolean.cs_zone_2_enabled
            name: Enabled
          - entity: sensor.cs_zone_2_peak_vwc
            name: Peak VWC
          - entity: sensor.cs_zone_2_valley_vwc
            name: Valley VWC

      - type: entities
        title: üè† Zone 3
        show_header_toggle: false
        entities:
          - entity: sensor.cs_zone_3_vwc
            name: VWC
          - entity: sensor.cs_zone_3_ec
            name: EC
          - entity: input_boolean.cs_zone_3_enabled
            name: Enabled
          - entity: sensor.cs_zone_3_peak_vwc
            name: Peak VWC
          - entity: sensor.cs_zone_3_valley_vwc
            name: Valley VWC

  # System Configuration
  - type: entities
    title: ‚öôÔ∏è System Configuration
    show_header_toggle: false
    entities:
      - entity: input_select.cs_crop_type_profile
        name: Crop Type
      - entity: input_number.cs_substrate_volume_liters
        name: Substrate Volume (L)
      - entity: input_number.cs_dripper_flow_rate_lph
        name: Dripper Flow Rate (L/hr)
      - entity: input_number.cs_substrate_field_capacity
        name: Field Capacity (%)
      - entity: input_number.cs_substrate_max_ec
        name: Maximum EC (mS/cm)
      - type: divider
      - entity: input_boolean.cs_ec_stacking_enabled
        name: EC Stacking
      - entity: binary_sensor.cs_system_enabled
        name: System Enabled

  # Quick Parameter Adjustment
  - type: grid
    columns: 2
    square: false
    cards:
      - type: entities
        title: üéØ Dryback Targets
        show_header_toggle: false
        entities:
          - entity: input_number.cs_p0_veg_dryback_target
            name: Vegetative Target (%)
          - entity: input_number.cs_p0_gen_dryback_target
            name: Generative Target (%)
          - entity: input_number.cs_p1_target_vwc
            name: P1 Target VWC (%)
          - entity: input_number.cs_p2_vwc_threshold
            name: P2 VWC Threshold (%)

      - type: entities
        title: ‚ö° EC Configuration
        show_header_toggle: false
        entities:
          - entity: input_number.cs_ec_target_veg_p2
            name: Veg P2 Target (mS/cm)
          - entity: input_number.cs_ec_target_gen_p2
            name: Gen P2 Target (mS/cm)
          - entity: input_number.cs_p2_ec_high_threshold
            name: EC High Ratio
          - entity: input_number.cs_p2_ec_low_threshold
            name: EC Low Ratio